<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Essensplaner
    </title>
    <link rel="stylesheet" href="styles.css">

    <script src="weekPicker/jquery-1.12.4.min.js"></script>
    <script src="weekPicker/jquery-ui.min.js"></script>
    <link rel="stylesheet" href="weekPicker/jquery-ui.css">
    <script src="weekPicker/jquery.weekpicker.js"></script>
</head>
<body>
    <header>
        <!-- Edle Schriftart für den Titel verwenden-->
        <h1>
            <p style="font-family: Georgia, 'Times New Roman', Times, serif; font-size: larger;color: white;">
                Essensplaner
            </p>
        </h1>
    </header>

    <br>

    <main>
        <section class="settings">
            <label for="days">Anzahl der Tage:</label>
            <select id="days">
                <option value="1">1 Tag</option>
                <option value="2">2 Tage</option>
                <option value="3">3 Tage</option>
                <option value="4">4 Tage</option>
                <option value="5" selected>5 Tage</option>
                <option value="6">6 Tage</option>
                <option value="7">7 Tage</option>
            </select>
            <br>
            <label for="seasonal">Anzahl der Tage mit saisonalen Zutaten:</label>
            <select id="seasonal">
                <option value="0" selected>0 Tage</option>
                <option value="1">1 Tag</option>
                <option value="2">2 Tage</option>
                <option value="3">3 Tage</option>
                <option value="4">4 Tage</option>
                <option value="5">5 Tage</option>
                <option value="6">6 Tage</option>
                <option value="7">7 Tage</option>
            </select>
        </section>

        <section class="ingredients">
            <h2>Saisonale Zutaten:</h2>
            <select id="seasonalIngredients" multiple>
                <!-- Hier werden die Zutaten dynamisch hinzugefügt -->
            </select>
        </section>

        <button id="generatePlan" onclick="generateMealPlan()">Essensplan generieren</button>

        <table class="outer-table" id="mealPlanTable">
            <!-- Hier werden die Gerichte dynamisch hinzugefügt -->
        </table>
        
        <!-- Die beiden Buttons savePlan und viewDishes schön nebeneinander und zentriert darstelle-->
        <br>
        <div class="button-container">
            <button id="savePlan" onclick="openPopup()" style="display: none;">Essensplan speichern</button>
            <button id="viewDishes" onclick="redirectToDishesPage()">Gerichte verwalten</button>
        </div>

        <!-- Erstellen eines Popups, welches angezeigt wird, wenn der Nutzer auf den Button "Essensplan speichern" klickt, in welchem er das Jahr und die Kalenderwoche eingeben kann, in welcher der Essensplan gespeichert werden soll -->
       
        <div id="savePopup" class="popup">
            <div class="popup-content">
                <span class="close" onclick="closePopup()">&times;</span>
                <h2>Essensplan speichern</h2>
                <!-- Eingabe für Kalenderwoche -->
                <input type="text" id="weekPicker" class="weekPicker">
                <script>
                    (function ( $ ) {
                        $( "#weekPicker" ).weekpicker();
                    } )(jQuery)
                </script>
                

                <button onclick="saveMealPlan()">Speichern</button>
            </div>
        </div>

    </main>

    <script src="script.js"></script>
    <script>
        fillSeasonalIngredientsDropdown();
        fetchAvailableDishes();
    </script>
</body>
</html>